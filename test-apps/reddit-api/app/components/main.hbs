<main
  data-machine={{this.redditMachine.state.machine.id}}
  {{! @glint-expect-error: The state value should be a string, but glint complains that it needs to be safe. Should I use a helper? }}
  data-state={{this.redditMachine.state.value}}
  ...attributes
>
  <header class="p-4 bg-blue-500">
    <select {{on "change" this.selectSubreddit}} aria-label="Select subreddit">
      <option disabled selected value>Select a subreddit</option>
      {{#each this.subreddits as |subreddit|}}
        <option value={{subreddit}}>{{subreddit}}</option>
      {{/each}}
    </select>
  </header>
  
  {{#if (this.redditMachine.state.matches "idle") }}
    <section class="p-6">
      <h1 class="capitalize text-xl font-bold text-gray-900">Select a subreddit</h1>
    </section>
  {{else}}
    <Subreddit
      {{! @glint-expect-error: The redditMachine is not typed correctly, so neither is the context. }}
      @subreddit={{this.redditMachine.state.context.subreddit}}
      class="p-6"
    />
  {{/if}}

</main>
