{{!-- TODO: figure out why this.redditMachine.id doesn't work. --}}
<main
  data-machine={{this.redditMachine.state.machine.id}}
  data-state={{this.redditMachine.state.value}}
  ...attributes
>
  <header class="p-4 bg-blue-500">
    <select {{on "change" this.selectSubreddit}} aria-label="Select subreddit">
      <option disabled selected value>Select a subreddit</option>
      {{#each this.subreddits as |subreddit|}}
        <option value={{subreddit}}>{{subreddit}}</option>
      {{/each}}
    </select>

  </header>
  
  {{#if (this.redditMachine.state.matches "idle") }}
    <section class="p-6">
      <h1 class="capitalize text-xl font-bold text-gray-900">Select a subreddit</h1>
    </section>
  {{else}}
    {{!-- {{log "this.redditMachine.state.context" this.redditMachine.state.context}} --}}
    {{!-- Subreddit selected (id is {{this.redditMachine.state.context.subreddit}}) --}}
    <Subreddit
      @subreddit={{this.redditMachine.state.context.subreddit}}
      class="p-6"
    />
  {{/if}}

</main>
